{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"book-list-container\"\n};\nconst _hoisted_2 = {\n  class: \"book-list\"\n};\nconst _hoisted_3 = [\"src\"];\nconst _hoisted_4 = {\n  class: \"book-info\"\n};\nconst _hoisted_5 = {\n  class: \"book-title\"\n};\nconst _hoisted_6 = {\n  class: \"book-author\"\n};\nconst _hoisted_7 = {\n  class: \"book-year\"\n};\nconst _hoisted_8 = {\n  class: \"book-isbn\"\n};\nconst _hoisted_9 = {\n  class: \"book-publisher\"\n};\nconst _hoisted_10 = [\"onClick\"];\nconst _hoisted_11 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\"Lista de livros\"), _createElementVNode(\"ul\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.books, book => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: book._id,\n      class: \"book-item\"\n    }, [_createCommentVNode(\" Exibe a imagem da capa do livro \"), book.image ? (_openBlock(), _createElementBlock(\"img\", {\n      key: 0,\n      src: book.image ? `http://localhost:3000 ${book.image}` : '',\n      alt: \"Capa do livro\"\n    }, null, 8 /* PROPS */, _hoisted_3)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"span\", null, _toDisplayString(book.title) + \" - \" + _toDisplayString(book.author) + \" (\" + _toDisplayString(book.year) + \")\", 1 /* TEXT */), _createCommentVNode(\" Exibe o título, autor, ano, ISBN e editora \"), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"span\", _hoisted_5, \"Título: \" + _toDisplayString(book.title), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_6, \"Autor: \" + _toDisplayString(book.author), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_7, \"Ano de lançamento: (\" + _toDisplayString(book.year) + \")\", 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_8, \"ISBN: \" + _toDisplayString(book.isbn), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_9, \"Editora: \" + _toDisplayString(book.publisher), 1 /* TEXT */)]), _createElementVNode(\"button\", {\n      onClick: $event => $options.editBook(book),\n      class: \"edit-button\"\n    }, \"Editar\", 8 /* PROPS */, _hoisted_10), _createElementVNode(\"button\", {\n      onClick: $event => $options.deleteBook(book._id),\n      class: \"delete-button\"\n    }, \"Excluir\", 8 /* PROPS */, _hoisted_11)]);\n  }), 128 /* KEYED_FRAGMENT */))])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_Fragment","_renderList","$data","books","book","key","_id","image","src","alt","_hoisted_3","_toDisplayString","title","author","year","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","isbn","_hoisted_9","publisher","onClick","$event","$options","editBook","_hoisted_10","deleteBook","_hoisted_11"],"sources":["C:\\Users\\dsadm\\Pictures\\@AgoraVai\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\components\\BookList.vue"],"sourcesContent":["<template>\r\n    <div class=\"book-list-container\">\r\n    <!--Lista de livros-->\r\n        <ul class=\"book-list\">  \r\n            <li v-for=\"book in books\" :key=\"book._id\" class=\"book-item\" >\r\n                <!-- Exibe a imagem da capa do livro -->\r\n            <img :src=\"book.image ? `http://localhost:3000 ${book.image}` : ''\" alt=\"Capa do livro\" v-if=\"book.image\" />\r\n                <span>{{ book.title }} - {{ book.author }} ({{ book.year }})</span>\r\n\r\n                <!-- Exibe o título, autor, ano, ISBN e editora -->\r\n            <div class=\"book-info\">\r\n                <span class=\"book-title\">Título: {{ book.title }}</span>\r\n                <span class=\"book-author\">Autor: {{ book.author }}</span>\r\n                <span class=\"book-year\">Ano de lançamento: ({{ book.year }})</span>\r\n                <span class=\"book-isbn\">ISBN: {{ book.isbn }}</span>\r\n                <span class=\"book-publisher\">Editora: {{ book.publisher }}</span>\r\n            </div>\r\n\r\n                <button @click=\"editBook(book)\" class=\"edit-button\">Editar</button>\r\n                <button @click=\"deleteBook(book._id)\" class=\"delete-button\">Excluir</button>\r\n            </li>\r\n        </ul>\r\n    </div >\r\n</template>\r\n<script>\r\nimport api from '../services/api'; \r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            books: []\r\n        }; //Estado Local da lista de livros \r\n    },\r\n    methods: {\r\n        fetchBooks(){//Busca os livros do back-end\r\n            api.getBooks().then(response =>{\r\n                this.books = response.data; //Atualiza a lista de livros \r\n            });\r\n        },\r\n        deleteBook(id){//Exclui um livro pelo ID\r\n            api.deleteBook(id).then(() =>{\r\n                this.fetchBooks(); //Atualiza a lista após a exclusão\r\n            });\r\n    },\r\n    editBook(book){ //Emite um evento para editar um livro\r\n        this.$emit('edit-book',book); //Emite o evento 'edit-book'\r\n    },\r\n},\r\nmounted() {\r\n    this.fetchBooks(); //Busca os livros ao montar o componente\r\n},\r\n};\r\n</script>\r\n"],"mappings":";;EACSA,KAAK,EAAC;AAAqB;;EAExBA,KAAK,EAAC;AAAW;mBAH7B;;EAUiBA,KAAK,EAAC;AAAW;;EACZA,KAAK,EAAC;AAAY;;EAClBA,KAAK,EAAC;AAAa;;EACnBA,KAAK,EAAC;AAAW;;EACjBA,KAAK,EAAC;AAAW;;EACjBA,KAAK,EAAC;AAAgB;oBAf5C;oBAAA;;uBACIC,mBAAA,CAqBO,OArBPC,UAqBO,GApBPC,mBAAA,mBAAsB,EAClBC,mBAAA,CAkBK,MAlBLC,UAkBK,I,kBAjBDJ,mBAAA,CAgBKK,SAAA,QApBjBC,WAAA,CAI+BC,KAAA,CAAAC,KAAK,EAAbC,IAAI;yBAAfT,mBAAA,CAgBK;MAhBsBU,GAAG,EAAED,IAAI,CAACE,GAAG;MAAEZ,KAAK,EAAC;QAC5CG,mBAAA,qCAAwC,EACkDO,IAAI,CAACG,KAAK,I,cAAxGZ,mBAAA,CAA4G;MANxHU,GAAA;MAMkBG,GAAG,EAAEJ,IAAI,CAACG,KAAK,4BAA4BH,IAAI,CAACG,KAAK;MAASE,GAAG,EAAC;4BANpFC,UAAA,KAAAb,mBAAA,gBAOgBC,mBAAA,CAAmE,cAAAa,gBAAA,CAA1DP,IAAI,CAACQ,KAAK,IAAG,KAAG,GAAAD,gBAAA,CAAGP,IAAI,CAACS,MAAM,IAAG,IAAE,GAAAF,gBAAA,CAAGP,IAAI,CAACU,IAAI,IAAG,GAAC,iBAE5DjB,mBAAA,gDAAmD,EACvDC,mBAAA,CAMM,OANNiB,UAMM,GALFjB,mBAAA,CAAwD,QAAxDkB,UAAwD,EAA/B,UAAQ,GAAAL,gBAAA,CAAGP,IAAI,CAACQ,KAAK,kBAC9Cd,mBAAA,CAAyD,QAAzDmB,UAAyD,EAA/B,SAAO,GAAAN,gBAAA,CAAGP,IAAI,CAACS,MAAM,kBAC/Cf,mBAAA,CAAmE,QAAnEoB,UAAmE,EAA3C,sBAAoB,GAAAP,gBAAA,CAAGP,IAAI,CAACU,IAAI,IAAG,GAAC,iBAC5DhB,mBAAA,CAAoD,QAApDqB,UAAoD,EAA5B,QAAM,GAAAR,gBAAA,CAAGP,IAAI,CAACgB,IAAI,kBAC1CtB,mBAAA,CAAiE,QAAjEuB,UAAiE,EAApC,WAAS,GAAAV,gBAAA,CAAGP,IAAI,CAACkB,SAAS,iB,GAGvDxB,mBAAA,CAAmE;MAA1DyB,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAC,QAAQ,CAACtB,IAAI;MAAGV,KAAK,EAAC;OAAc,QAAM,iBAlB1EiC,WAAA,GAmBgB7B,mBAAA,CAA4E;MAAnEyB,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAG,UAAU,CAACxB,IAAI,CAACE,GAAG;MAAGZ,KAAK,EAAC;OAAgB,SAAO,iBAnBnFmC,WAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}