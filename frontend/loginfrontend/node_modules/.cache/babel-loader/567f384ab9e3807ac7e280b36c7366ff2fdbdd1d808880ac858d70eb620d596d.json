{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"book-list-container\"\n};\nconst _hoisted_2 = {\n  class: \"book-list\"\n};\nconst _hoisted_3 = [\"onClick\"];\nconst _hoisted_4 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\"Lista de livros\"), _createElementVNode(\"ul\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.books, book => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: book._id,\n      class: \"book-item\"\n    }, [_createElementVNode(\"span\", null, _toDisplayString(book.title) + \" - \" + _toDisplayString(book.author) + \" (\" + _toDisplayString(book.year) + \")\", 1 /* TEXT */), _createElementVNode(\"button\", {\n      onClick: $event => $options.editBook(book),\n      class: \"edit-button\"\n    }, \"Editar\", 8 /* PROPS */, _hoisted_3), _createElementVNode(\"button\", {\n      onClick: $event => $options.deleteBook(book._id),\n      class: \"delete-button\"\n    }, \"Excluir\", 8 /* PROPS */, _hoisted_4)]);\n  }), 128 /* KEYED_FRAGMENT */))])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_Fragment","_renderList","$data","books","book","key","_id","_toDisplayString","title","author","year","onClick","$event","$options","editBook","_hoisted_3","deleteBook","_hoisted_4"],"sources":["C:\\Users\\dsadm\\Pictures\\@AgoraVai\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\components\\BookList.vue"],"sourcesContent":["<template>\r\n    <div class=\"book-list-container\">\r\n    <!--Lista de livros-->\r\n        <ul class=\"book-list\">  \r\n            <li v-for=\"book in books\" :key=\"book._id\" class=\"book-item\" >\r\n                \r\n                <span>{{ book.title }} - {{ book.author }} ({{ book.year }})</span>\r\n\r\n\r\n                <button @click=\"editBook(book)\" class=\"edit-button\">Editar</button>\r\n                <button @click=\"deleteBook(book._id)\" class=\"delete-button\">Excluir</button>\r\n            </li>\r\n        </ul>\r\n    </div >\r\n</template>\r\n<script>\r\nimport api from '../services/api'; \r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            books: []\r\n        }; //Estado Local da lista de livros \r\n    },\r\n    methods: {\r\n        fetchBooks(){//Busca os livros do back-end\r\n            api.getBooks().then(response =>{\r\n                this.books = response.data; //Atualiza a lista de livros \r\n            });\r\n        },\r\n        deleteBook(id){//Exclui um livro pelo ID\r\n            api.deleteBook(id).then(() =>{\r\n                this.fetchBooks(); //Atualiza a lista após a exclusão\r\n            });\r\n    },\r\n    editBook(book){ //Emite um evento para editar um livro\r\n        this.$emit('edit-book',book); //Emite o evento 'edit-book'\r\n    },\r\n},\r\nmounted() {\r\n    this.fetchBooks(); //Busca os livros ao montar o componente\r\n},\r\n};\r\n</script>\r\n"],"mappings":";;EACSA,KAAK,EAAC;AAAqB;;EAExBA,KAAK,EAAC;AAAW;mBAH7B;mBAAA;;uBACIC,mBAAA,CAYO,OAZPC,UAYO,GAXPC,mBAAA,mBAAsB,EAClBC,mBAAA,CASK,MATLC,UASK,I,kBARDJ,mBAAA,CAOKK,SAAA,QAXjBC,WAAA,CAI+BC,KAAA,CAAAC,KAAK,EAAbC,IAAI;yBAAfT,mBAAA,CAOK;MAPsBU,GAAG,EAAED,IAAI,CAACE,GAAG;MAAEZ,KAAK,EAAC;QAE5CI,mBAAA,CAAmE,cAAAS,gBAAA,CAA1DH,IAAI,CAACI,KAAK,IAAG,KAAG,GAAAD,gBAAA,CAAGH,IAAI,CAACK,MAAM,IAAG,IAAE,GAAAF,gBAAA,CAAGH,IAAI,CAACM,IAAI,IAAG,GAAC,iBAG5DZ,mBAAA,CAAmE;MAA1Da,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAC,QAAQ,CAACV,IAAI;MAAGV,KAAK,EAAC;OAAc,QAAM,iBAT1EqB,UAAA,GAUgBjB,mBAAA,CAA4E;MAAnEa,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAG,UAAU,CAACZ,IAAI,CAACE,GAAG;MAAGZ,KAAK,EAAC;OAAgB,SAAO,iBAVnFuB,UAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}