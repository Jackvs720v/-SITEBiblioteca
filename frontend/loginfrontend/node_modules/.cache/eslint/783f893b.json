[{"C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\main.js":"1","C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\axios.js":"2","C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\App.vue":"3","C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\router\\index.js":"4","C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\views\\Login.vue":"5","C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\views\\Dashboard.vue":"6","C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\views\\AppBook.vue":"7","C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\views\\mainFrame.vue":"8","C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\views\\Cadastro.vue":"9","C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\components\\BookForm.vue":"10","C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\components\\BookList.vue":"11","C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\services\\api.js":"12","C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\components\\cardMain.vue":"13","C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\views\\detalhesBook.vue":"14","C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\components\\NavBarAdm.vue":"15","C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\views\\profile.vue":"16","C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\views\\crudProfile.vue":"17","C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\views\\notificacao.vue":"18","C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\views\\favoritar.vue":"19","C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\views\\ReservadoBook.vue":"20"},{"size":354,"mtime":1732391766443,"results":"21","hashOfConfig":"22"},{"size":479,"mtime":1732391766442,"results":"23","hashOfConfig":"22"},{"size":232,"mtime":1733256652186,"results":"24","hashOfConfig":"22"},{"size":2108,"mtime":1733337266188,"results":"25","hashOfConfig":"22"},{"size":4644,"mtime":1733244864791,"results":"26","hashOfConfig":"22"},{"size":5747,"mtime":1733249275680,"results":"27","hashOfConfig":"22"},{"size":3477,"mtime":1733256949674,"results":"28","hashOfConfig":"22"},{"size":3145,"mtime":1733322353992,"results":"29","hashOfConfig":"22"},{"size":4261,"mtime":1733256861539,"results":"30","hashOfConfig":"22"},{"size":3311,"mtime":1732922361167,"results":"31","hashOfConfig":"22"},{"size":3744,"mtime":1732922361167,"results":"32","hashOfConfig":"22"},{"size":871,"mtime":1733337557232,"results":"33","hashOfConfig":"22"},{"size":1632,"mtime":1733334785365,"results":"34","hashOfConfig":"22"},{"size":4606,"mtime":1733339774485,"results":"35","hashOfConfig":"22"},{"size":3707,"mtime":1733337382949,"results":"36","hashOfConfig":"22"},{"size":6214,"mtime":1733246342203,"results":"37","hashOfConfig":"22"},{"size":3574,"mtime":1733068136979,"results":"38","hashOfConfig":"22"},{"size":3421,"mtime":1733071752624,"results":"39","hashOfConfig":"22"},{"size":3228,"mtime":1733082054719,"results":"40","hashOfConfig":"22"},{"size":5123,"mtime":1733341359085,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"q8xhcf",{"filePath":"45","messages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"47","messages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"50","messages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"52","messages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"54","messages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"56","messages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"58","messages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"60","messages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"62","messages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"64","messages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"66","messages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"68","messages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"70","messages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"72","messages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"74","messages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"76","messages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"78","messages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"80","messages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"82","messages":"83","errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"84"},"C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\main.js",[],[],"C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\axios.js",[],"C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\App.vue",[],[],"C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\router\\index.js",[],"C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\views\\Login.vue",[],"C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\views\\Dashboard.vue",[],"C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\views\\AppBook.vue",[],"C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\views\\mainFrame.vue",[],"C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\views\\Cadastro.vue",[],"C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\components\\BookForm.vue",[],"C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\components\\BookList.vue",[],"C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\services\\api.js",[],"C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\components\\cardMain.vue",[],"C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\views\\detalhesBook.vue",[],"C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\components\\NavBarAdm.vue",[],"C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\views\\profile.vue",[],"C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\views\\crudProfile.vue",[],"C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\views\\notificacao.vue",[],"C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\views\\favoritar.vue",[],"C:\\Users\\PC\\Pictures\\-SITEBiblioteca\\frontend\\loginfrontend\\src\\views\\ReservadoBook.vue",["85"],"<template>\r\n\r\n  \r\n  <NavBarAdm/>\r\n\r\n  <div id=\"reservado\">\r\n    <div class=\"layout\">\r\n      <h1>Livros Reservados</h1>\r\n      <div v-if=\"reservadoBooks.length\" class=\"book-container\">\r\n        <div class=\"book-card\" v-for=\"book in reservadoBooks\" :key=\"book.id\">\r\n          <img\r\n            :src=\"book.image ? `http://localhost:3000${book.image}` : 'default-cover.jpg'\"\r\n            alt=\"Capa do livro\"\r\n            class=\"book-cover\"\r\n          />\r\n          <div class=\"book-info\">\r\n            <h3 class=\"book-title\">{{ book.title }}</h3>\r\n            <p class=\"book-author\">Autor: {{ book.author }}</p>\r\n            <p class=\"book-synopsis\">{{ book.synopsis }}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div v-else>\r\n        <p>Você não possui livros reservados.</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport NavBarAdm from '../components/NavBarAdm.vue';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      user: null,\r\n      reservadoBooks: [],  // Lista de livros reservados\r\n      message: ''\r\n    };\r\n  },\r\n  methods: {\r\n    // Função para buscar os dados do usuário\r\n    async fetchUserData() {\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        this.message = \"Você precisa estar logado para acessar os dados do perfil!\";\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await fetch('http://localhost:3000/auth/user', {\r\n          method: 'GET',\r\n          headers: {\r\n            Authorization: `Bearer ${token}`  // Passando o token no cabeçalho\r\n          }\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Erro ao buscar dados do usuário');\r\n        }\r\n\r\n        const data = await response.json();\r\n        this.user = data;  // Dados do usuário\r\n        this.fetchReservados(); // Após obter os dados do usuário, buscar os livros reservados\r\n      } catch (error) {\r\n        this.message = \"Erro ao buscar os dados do usuário.\";\r\n        console.error(error);\r\n      }\r\n    },\r\n\r\n    // Função para buscar os livros reservados\r\n    async fetchReservados() {\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        this.message = \"Você precisa estar logado para ver os livros reservados!\";\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await fetch('http://localhost:3000/reservados', {\r\n          method: 'GET',\r\n          headers: {\r\n            Authorization: `Bearer ${token}`  // Passando o token de autenticação no cabeçalho\r\n          }\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Erro ao buscar livros reservados');\r\n        }\r\n\r\n        const data = await response.json();\r\n        \r\n        // Verifique se a resposta tem dados\r\n        if (data && data.length > 0) {\r\n          this.reservadoBooks = data; // Livros reservados\r\n        } else {\r\n          this.message = \"Você não tem livros reservados.\";\r\n        }\r\n      } catch (error) {\r\n        this.message = \"Erro ao buscar os livros reservados.\";\r\n        console.error(\"Erro ao buscar livros reservados:\", error.message);\r\n      }\r\n    },\r\n\r\n    // Função para reservar um livro\r\n    async reservarLivro(livroId) {\r\n      const token = localStorage.getItem('token');\r\n  \r\n      if (!token) {\r\n        this.message = \"Você precisa estar logado para reservar um livro!\";\r\n        return;\r\n      }\r\n  \r\n      try {\r\n        const response = await fetch('http://localhost:3000/reservar', {\r\n          method: 'POST',\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n            'Content-Type': 'application/json'  // Definindo o tipo de conteúdo como JSON\r\n          },\r\n          body: JSON.stringify({\r\n            livroId: livroId  // Passando o id do livro para reservar\r\n          })\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Erro ao tentar reservar o livro');\r\n        }\r\n\r\n        this.message = \"Livro reservado com sucesso!\";\r\n        this.fetchReservados(); // Atualiza os livros reservados após reserva\r\n      } catch (error) {\r\n        this.message = \"Erro ao tentar reservar o livro!\";\r\n        console.error(\"Erro ao reservar livro:\", error.message);\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchUserData(); // Chama a função ao montar o componente\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#reservado {\r\n  font-family: 'Arial', sans-serif;\r\n  padding: 20px;\r\n}\r\n\r\n.book-container {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-around;\r\n}\r\n\r\n.book-card {\r\n  width: 300px;\r\n  background-color: #f9f9f9;\r\n  border-radius: 10px;\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n  margin: 10px;\r\n  padding: 15px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.book-cover {\r\n  width: 100px;\r\n  height: 150px;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.book-info {\r\n  text-align: center;\r\n}\r\n\r\n.book-title {\r\n  font-size: 1.2em;\r\n  font-weight: bold;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.book-author,\r\n.book-rented-date,\r\n.book-return-date {\r\n  font-size: 0.9em;\r\n  color: #666;\r\n  margin-bottom: 5px;\r\n}\r\n</style>\r\n",{"ruleId":"86","severity":2,"message":"87","line":31,"column":8,"nodeType":"88","messageId":"89","endLine":31,"endColumn":17},"no-unused-vars","'NavBarAdm' is defined but never used.","Identifier","unusedVar"]